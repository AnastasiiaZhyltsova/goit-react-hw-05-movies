{"version":3,"file":"static/js/movies.3b117f9a.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/components/pages/Movies/Movies.module.css?078c","webpack://react-homework-template/./src/components/SearchForm/SearchForm.module.css?d6f1","components/SearchForm/SearchForm.jsx","components/pages/Movies/Movies.jsx","services/moviesApi.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"title\":\"Movies_title__puW26\",\"list\":\"Movies_list__b4EtO\",\"link\":\"Movies_link__Ti9Y4\",\"img\":\"Movies_img__qTwM9\",\"movie_title\":\"Movies_movie_title__Qwhv2\"};","// extracted by mini-css-extract-plugin\nexport default {\"form\":\"SearchForm_form__o80os\",\"input\":\"SearchForm_input__HOxJo\",\"button\":\"SearchForm_button__UXY06\"};","import { useState } from 'react';\nimport style from './SearchForm.module.css';\n\nimport PropTypes from 'prop-types';\n\nfunction SearchForm({ onSubmit }) {\n  const [searchQuery, setSearchQuery] = useState('');\n\n  const handleChange = e => {\n    setSearchQuery(e.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (searchQuery.trim() === '') {\n      return;\n    }\n    onSubmit(searchQuery);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={style.form}>\n      <input\n        type=\"text\"\n        autoComplete=\"off\"\n        autoFocus\n        placeholder=\"Search images and photos\"\n        value={searchQuery}\n        onChange={handleChange}\n        className={style.input}\n      />\n      <button type=\"submit\" className={style.button}>\n        <span>Search</span>\n      </button>\n    </form>\n  );\n}\n\nexport default SearchForm;\n\nSearchForm.propTypes = {\n  onSubmit: PropTypes.func,\n};\n","import { useState, useEffect } from 'react';\nimport { NavLink, useSearchParams, useLocation } from 'react-router-dom';\nimport style from './Movies.module.css';\n\nimport * as moviesApi from '../../../services/moviesApi';\nimport SearchForm from 'components/SearchForm/SearchForm';\n\nfunction SearchMovies() {\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [searchMovies, setSearcMovies] = useState([]);\n\n  const movieQuery = searchParams.get('quary');\n  const location = useLocation();\n\n  useEffect(() => {\n    if (!movieQuery) {\n      return;\n    }\n    moviesApi.getSearchMovies(movieQuery).then(res => {\n      setSearcMovies([...res.results]);\n    });\n  }, [movieQuery]);\n\n  const searchFormSubmit = newSearchQuery => {\n    if (movieQuery !== newSearchQuery) {\n      setSearcMovies([]);\n      setSearchParams({ quary: `${newSearchQuery}` });\n    }\n  };\n  return (\n    <>\n      <SearchForm onSubmit={searchFormSubmit} />\n      {searchMovies && (\n        <ul className={style.list}>\n          {searchMovies.map(movie => (\n            <li key={movie.id} className={style.link}>\n              <NavLink\n                to={`${movie.id}`}\n                state={{ from: location }}\n                className={style.movie_title}\n              >\n                <img\n                  src={'https://image.tmdb.org/t/p/w300' + movie.poster_path}\n                  alt={movie.original_title}\n                  className={style.img}\n                />\n                <p className={style.movie_titleaa}> {movie.original_title}</p>\n              </NavLink>\n            </li>\n          ))}\n        </ul>\n      )}\n    </>\n  );\n}\n\nexport default SearchMovies;\n"," const KEY = '364246c22cf976df1b7cad20117b583b';\n  const BASE_URL = 'https://api.themoviedb.org/3';\n\n\nexport function getTrending() {\n  return fetch(`${BASE_URL}/trending/movie/day?api_key=${KEY}`)\n  .then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  })\n}\n\nexport function getSearchMovies(searchQuery) {\n  return fetch(`${BASE_URL}/search/movie?api_key=${KEY}&query=${searchQuery}`)\n  .then(response => {\n    if (response.ok) {\n      return response.json();\n    }\n  })\n}\n\n\nexport function getMovieDetails(movieId) {\n  return fetch(`${BASE_URL}/movie/${movieId}?api_key=${KEY}`)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n    }\n  })\n}\n\nexport function getMovieCredits(movieId) {\n  return fetch(`${BASE_URL}/movie/${movieId}/credits?api_key=${KEY}`)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n    }\n  })\n}\n\nexport function getMovieReviews(movieId) {\n   return fetch(`${BASE_URL}/movie/${movieId}/reviews?api_key=${KEY}`)\n    .then(response => {\n      if (response.ok) {\n        return response.json();\n    }\n  })\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"names":["onSubmit","useState","searchQuery","setSearchQuery","e","preventDefault","trim","className","style","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","toLowerCase","useSearchParams","searchParams","setSearchParams","searchMovies","setSearcMovies","movieQuery","get","location","useLocation","useEffect","moviesApi","then","res","results","newSearchQuery","quary","map","movie","to","id","state","from","src","poster_path","alt","original_title","KEY","BASE_URL","getTrending","fetch","response","ok","json","getSearchMovies","getMovieDetails","movieId","getMovieCredits","getMovieReviews","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","unsupportedIterableToArray","TypeError"],"sourceRoot":""}